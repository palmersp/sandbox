<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Inheritance</title>
    <script type="text/javascript">
      //inheritance happens through prototypes

      //object constructor function to create protoypes
      //constructor function is the prototype for any object that it is used to create
      function person(first, last, age, eyecolor) {
        this.firstName = first;
        this.lastName = last;
        this.age = age;
        this.eyeColor = eyecolor;
      }
      //objects are being created from the same prototype
      var myFather = new person("John", "Doe", 50, "blue");
      var myMother = new person("Sally", "Rally", 48, "green");

      //add property to the prototype
      person.prototype.nationality = "English";
      //add a method to the prototype all objects that have it as their prototype will be affected
      person.prototype.name = function() {
        return this.firstName + " " + this.lastName;
      };

      //doesn't use classes, uses prototypes instead
      //inheritance can be used to create specialized classes


      // Define the Person constructor
var Person = function(firstName) {
  this.firstName = firstName;
};

// Add a couple of methods to Person.prototype
Person.prototype.walk = function(){
  console.log("I am walking!");
};

Person.prototype.sayHello = function(){
  console.log("Hello, I'm " + this.firstName);
};

// Define the Student constructor
function Student(firstName, subject) {
  // Call the parent constructor, making sure (using Function#call)
  // that "this" is set correctly during the call
  Person.call(this, firstName);

  // Initialize our Student-specific properties
  this.subject = subject;
};

// Create a Student.prototype object that inherits from Person.prototype.
// Note: A common error here is to use "new Person()" to create the
// Student.prototype. That's incorrect for several reasons, not least
// that we don't have anything to give Person for the "firstName"
// argument. The correct place to call Person is above, where we call
// it from Student.
Student.prototype = Object.create(Person.prototype); // See note below

// Set the "constructor" property to refer to Student
Student.prototype.constructor = Student;

// Replace the "sayHello" method
Student.prototype.sayHello = function(){
  console.log("Hello, I'm " + this.firstName + ". I'm studying "
              + this.subject + ".");
};

// Add a "sayGoodBye" method
Student.prototype.sayGoodBye = function(){
  console.log("Goodbye!");
};

// Example usage:
var student1 = new Student("Janet", "Applied Physics");
student1.sayHello();   // "Hello, I'm Janet. I'm studying Applied Physics."
student1.walk();       // "I am walking!"
student1.sayGoodBye(); // "Goodbye!"

// Check that instanceof works correctly
console.log(student1 instanceof Person);  // true
console.log(student1 instanceof Student); // true

console.log(Person.prototype);
console.log(Student.prototype);


//checking prototype of generic object
var objectify = {};

var prototype = Object.getPrototypeOf(objectify);

console.log(prototype);

var castle = {
  turrets: 5,
  moat: true,
  name: "Edinburough"
}

var protoCheck = Object.getPrototypeOf(castle);
console.log(protoCheck === Object.prototype);


var superHero = {
  name: "Batman",
  strength: 7,
  attack: function (){
    console.log("Punch")
  }
}
superHero.attack();

superHero.kick = function(){
  console.log("kick");
}
superHero.kick();

function Hero(name, strength, attack){
  this.name = name;
  this.strength = strength;
  this.attack = function(){
    console.log(attack);
  }
}

var superman = new Hero("Superman", 15, "Punch");
var spiderman = new Hero("Spider Man", 10, "Shoot Webs");

superman.attack();
delete superman.attack();
spiderman.attack();

Hero.prototype.defense = function () {
  console.log("run");
}

delete spiderman.name;
console.log(spiderman.name); //is an own property so it will come up as undefined because it has been deleted
console.log(superman.name);

delete superman.defense();
superman.defense();

Hero.prototype.home = "Metropolis";

spiderman.home = "New York";
console.log(spiderman.home);
console.log(superman.home);


    </script>
  </head>
  <body>
    
  </body>
</html>
