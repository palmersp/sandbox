<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <title>Animation</title>
  <style media="screen">
    body {
      margin: 0;
    }

    #site {
      height: 100vh;
      width: 100vw;
      position: relative;
      z-index: 10;
      background: inherit;
      left: 0;
      transition: all 0.2s ease-out;
      transform: translate3d(0, 0, 0);
      background: black;
      color: white;
    }

    .view {
      /*z-index: -1000;*/
      background: rgba(0, 128, 0, 1);
      height: 50vh;
      width: 75vw;
      position: absolute;
      top: 100px;
      margin-left: auto;
      margin-right: auto;
      left: 0;
      right: 0;
    }

    @keyframes scaleUp {
      /*from {*/
        /*z-index: -10;*/
        /*transform: scale(1);*/
      /*}*/
      /*to {*/
        /*z-index: 200;*/
        /*transform: scale(1.1);*/
      /*}*/
    0%{transform: scale(1)}
    95%{transform: scale(1.11)}
    100%{transform: scale(1.1)}
    }

    @keyframes scaleDown {
      from {
        /*z-index: 200;*/
        transform: scale(1.1);
      }
      to {
        /*z-index: -1000;*/
        transform: scale(1);
      }
    }

    .overlay {
      height: 100vh;
      width: 100vw;
      position: absolute;
      top: 0;
      background: rgba(128, 128, 128, 0.5);
      z-index: -1001;
    }

    @keyframes moveOverlayUp {
      from {
        /*if this number is too high it takes to long to show up, you miss the scale*/
        z-index: -10;
      }
      to {
        z-index: 150;
      }
    }

    @keyframes moveOverlayDown {
      from {
        z-index: 150;
      }
      to {
        z-index: -1001;
      }
    }
  </style>
</head>

<body>

  <!-- for absolute elements to appear behind a relative one they must be place above the relative element in the document -->

  <!-- for some reason having this inside the div is messing with the scale -->
  <!-- it scales in correctly the first time but fails after that -->
  <article class="overlay">
    <aside class="view"></aside>
  </article>

  <main id="site">
    <button type="button" name="view">View</button>
    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
      in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </p>

  </main>




  <script type="text/javascript" src="customAnimation.js"></script>
</body>

</html>
