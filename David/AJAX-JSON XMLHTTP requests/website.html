<!DOCTYPE html>
<html lang="en-US">
	<head>
		<title>AJAX test</title>
		<meta charset="utf-8">

	</head>
	<body>

		<div id="myDiv"><h2>Let AJAX change this text</h2></div></div><br/><br/><br/>

		<button type="button" onclick="loadHappyPath()">Happy Path</button>
		<div id="nasty1"><h2>Nasty1</h2></div><br/><br/><br/>
		<div id="nasty2"><h2>Nasty2</h2></div><br/><br/><br/>
		<div id="nasty3"><h2>Nasty3</h2></div><br/><br/><br/>
		<div id="nasty4"><h2>Nasty4</h2></div><br/><br/><br/>
		<button type="button" onclick="loadNastyPath()">Nasty Paths</button>
	</body>
	<footer>
		<script>
		myObj = { i : 2}
		function changeNum(obj)
		{

			if (myObj.i == 0)
			{
				myObj.i = 1;
			}
			else if (myObj.i == 1)
			{
				myObj.i = 2;
			}
			else if (myObj.i == 2)
			{
				myObj.i = 0;
			}

		}
		function getNum(){
			return myObj.i;
		}
		function loadNastyPath(){
			changeNum(myObj);
			loadXMLDoc1();
			loadXMLDoc2();
			loadXMLDoc3();
			loadXMLDoc4();
		}
		function loadHappyPath(){
			changeNum(myObj);
			loadXMLDoc();
		}
		function loadXMLDoc()
		{
			var file = ["ajax_info.txt", "ajax2.txt", "ajax_info1.txt"];
			var	xmlhttp = new XMLHttpRequest();
			xmlhttp.onreadystatechange=function()
			{
				if (xmlhttp.readyState==4 && xmlhttp.status==200)
				{
					document.getElementById("myDiv").innerHTML=xmlhttp.responseText;
				}
			}
			xmlhttp.open("Get",file[getNum()],true);
			xmlhttp.send();
		}
		function loadXMLDoc1()
		{

			// point to a url that doesn't exist or a page that doesn't exist
			// put null instead of filename
			var file = ["ajax_info.txt", null, "ajax2.txt"];
			var	xmlhttp = new XMLHttpRequest();
			xmlhttp.onreadystatechange=function()
			{
				if (xmlhttp.readyState==4 && xmlhttp.status==200)
				{
					document.getElementById("nasty1").innerHTML=xmlhttp.responseText;
				}
			}
			xmlhttp.open("Get",file[getNum()],true);
			xmlhttp.send();
		}
		function loadXMLDoc2()
		{
			var file = ["ajax_info.txt", "ajax2.txt", "edmundsTest.html"];
			var	xmlhttp = new XMLHttpRequest();
			xmlhttp.onreadystatechange=function()
			{
				if (xmlhttp.readyState==4 && xmlhttp.status==200)
				{
					document.getElementById("nasty2").innerHTML=xmlhttp.responseText;
				}
			}
			xmlhttp.open("Get",file[getNum()],true);
			xmlhttp.send();
		}
		function loadXMLDoc3()
		{
			var file = ["ajax_info.txt", "ajax2.txt", "ajax3.txt"];
			var	xmlhttp = new XMLHttpRequest();
			xmlhttp.onreadystatechange=function()
			{
				if (xmlhttp.readyState==4 && xmlhttp.status==200)
				{
					document.getElementById("nasty3").innerHTML=xmlhttp.responseText;
				}
			}
			xmlhttp.open("Get",file[getNum()],true);
			xmlhttp.send();
		}
		function loadXMLDoc4()
		{
			// one file name not in quotes.
			var file = ["ajax_info.txt", "ajax2.txt", ajax2.txt];
			var	xmlhttp = new XMLHttpRequest();
			xmlhttp.onreadystatechange=function()
			{
				if (xmlhttp.readyState==4 && xmlhttp.status==200)
				{
					document.getElementById("nasty4").innerHTML=xmlhttp.responseText;
				}
			}
			xmlhttp.open("Get",file[getNum()],true);
			xmlhttp.send();
		}
		</script>
	</footer>
</html>
